-- ScriptLib Module
local Roact = require(game.ReplicatedStorage:WaitForChild("Roact"))

local ScriptLib = {}

-- Configurações padrão
ScriptLib.Settings = {
    AutoFarm = true,
    InfiniteMoney = true,
    PlayerLocations = true,
    AllGamepasses = true,
    FarmSpeed = 0.1,
    FruitCheckInterval = 10
}

-- IDs dos gamepasses
ScriptLib.GamepassIDs = {
    Yoru = 6028786,
    NotificadorDeFruta = 6738811,
    TwoXDrop = 7578721,
    TwoXBounty = 6240746,
    TwoXMoney = 6028662,
    BarcoRapido = 6525589
}

-- Função para criar a interface do usuário
function ScriptLib.createUI()
    local function Button(props)
        return Roact.createElement("TextButton", {
            Size = UDim2.new(1, -20, 0, 50),
            BackgroundColor3 = Color3.fromRGB(255, 0, 0),
            TextColor3 = Color3.fromRGB(255, 165, 0),
            Font = Enum.Font.SourceSansBold,
            TextSize = 24,
            Text = props.text,
            [Roact.Event.Activated] = props.onActivated
        })
    end

    local function SettingsUI(props)
        return Roact.createElement("Frame", {
            Size = UDim2.new(0, 400, 0, 600),
            Position = UDim2.new(0.5, -200, 0.5, -300),
            BackgroundColor3 = Color3.fromRGB(0, 0, 0),
            BorderSizePixel = 0,
        }, {
            UIListLayout = Roact.createElement("UIListLayout", {
                Padding = UDim.new(0, 10),
                FillDirection = Enum.FillDirection.Vertical,
                HorizontalAlignment = Enum.HorizontalAlignment.Center,
                VerticalAlignment = Enum.VerticalAlignment.Top,
            }),
            Title = Roact.createElement("TextLabel", {
                Text = "Script Settings",
                Size = UDim2.new(1, 0, 0, 50),
                BackgroundColor3 = Color3.fromRGB(255, 0, 0),
                TextColor3 = Color3.fromRGB(255, 165, 0),
                Font = Enum.Font.SourceSansBold,
                TextSize = 24,
            }),
            AutoFarmToggle = Roact.createElement(Button, {
                text = "Auto Farm: " .. tostring(ScriptLib.Settings.AutoFarm),
                onActivated = function()
                    ScriptLib.Settings.AutoFarm = not ScriptLib.Settings.AutoFarm
                    props.updateUI()
                end
            }),
            InfiniteMoneyToggle = Roact.createElement(Button, {
                text = "Infinite Money: " .. tostring(ScriptLib.Settings.InfiniteMoney),
                onActivated = function()
                    ScriptLib.Settings.InfiniteMoney = not ScriptLib.Settings.InfiniteMoney
                    props.updateUI()
                end
            }),
            PlayerLocationsToggle = Roact.createElement(Button, {
                text = "Player Locations: " .. tostring(ScriptLib.Settings.PlayerLocations),
                onActivated = function()
                    ScriptLib.Settings.PlayerLocations = not ScriptLib.Settings.PlayerLocations
                    props.updateUI()
                end
            }),
            AllGamepassesToggle = Roact.createElement(Button, {
                text = "All Gamepasses: " .. tostring(ScriptLib.Settings.AllGamepasses),
                onActivated = function()
                    ScriptLib.Settings.AllGamepasses = not ScriptLib.Settings.AllGamepasses
                    props.updateUI()
                end
            }),
        })
    end

    local function updateUI()
        local ui = game.Players.LocalPlayer:FindFirstChild("PlayerGui")
        if ui then
            local screenGui = ui:FindFirstChild("ScriptUI")
            if screenGui then
                screenGui:Destroy()
            end
            Roact.mount(Roact.createElement(SettingsUI, { updateUI = updateUI }), ui, "ScriptUI")
        end
    end

    updateUI()
end

-- Função para gerar dinheiro infinito
function ScriptLib.generateInfiniteMoney()
    while ScriptLib.Settings.InfiniteMoney do
        local player = game.Players.LocalPlayer
        if player and player:FindFirstChild("Money") then
            player.Money.Value = player.Money.Value + 1000
        end
        wait(1)
    end
end

-- Função para simular o "Auto Farm"
function ScriptLib.autoFarm()
    while ScriptLib.Settings.AutoFarm do
        local player = game.Players.LocalPlayer
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            -- Simula a movimentação para um local
            player.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(100, 10, 200))
        end
        wait(ScriptLib.Settings.FarmSpeed)
    end
end

-- Função para mostrar a localização dos jogadores
function ScriptLib.showPlayerLocations()
    while ScriptLib.Settings.PlayerLocations do
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                print(player.Name .. " está em: " .. tostring(player.Character.HumanoidRootPart.Position))
            end
        end
        wait(10)
    end
end

-- Função para desbloquear todas as gamepasses
function ScriptLib.unlockAllGamepasses()
    local MarketplaceService = game:GetService("MarketplaceService")
    local player = game.Players.LocalPlayer
    if player then
        for _, gamepassId in pairs(ScriptLib.GamepassIDs) do
            local success, result = pcall(function()
                MarketplaceService:PromptGamePassPurchase(player, gamepassId)
            end)
            if not success then
                print("Falha ao tentar desbloquear gamepass com ID " .. tostring(gamepassId))
            end
        end
    end
end

return ScriptLib
